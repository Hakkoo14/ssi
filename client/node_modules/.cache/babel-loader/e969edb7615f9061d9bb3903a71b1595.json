{"ast":null,"code":"'use strict';\n\nvar _classCallCheck = require(\"C:/Users/gkhakurel/Downloads/Poject-main/Poject-main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:/Users/gkhakurel/Downloads/Poject-main/Poject-main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"C:/Users/gkhakurel/Downloads/Poject-main/Poject-main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"C:/Users/gkhakurel/Downloads/Poject-main/Poject-main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar pull = require('pull-stream');\n\nvar pushable = require('pull-pushable');\n\nvar Duplex = require('readable-stream').Duplex;\n\nvar AddHelper = /*#__PURE__*/function (_Duplex) {\n  _inherits(AddHelper, _Duplex);\n\n  var _super = _createSuper(AddHelper);\n\n  function AddHelper(pullStream, push, options) {\n    var _this;\n\n    _classCallCheck(this, AddHelper);\n\n    _this = _super.call(this, Object.assign({\n      objectMode: true\n    }, options));\n    _this._pullStream = pullStream;\n    _this._pushable = push;\n    _this._waitingPullFlush = [];\n    return _this;\n  }\n\n  _createClass(AddHelper, [{\n    key: \"_read\",\n    value: function _read() {\n      var _this2 = this;\n\n      this._pullStream(null, function (end, data) {\n        while (_this2._waitingPullFlush.length) {\n          var cb = _this2._waitingPullFlush.shift();\n\n          cb();\n        }\n\n        if (end) {\n          if (end instanceof Error) {\n            _this2.emit('error', end);\n          } else {\n            _this2.push(null);\n          }\n        } else {\n          _this2.push(data);\n        }\n      });\n    }\n  }, {\n    key: \"_write\",\n    value: function _write(chunk, encoding, callback) {\n      this._waitingPullFlush.push(callback);\n\n      this._pushable.push(chunk);\n    }\n  }]);\n\n  return AddHelper;\n}(Duplex);\n\nmodule.exports = function (self) {\n  return function (options) {\n    options = options || {};\n    var p = pushable();\n    var s = pull(p, self.addPullStream(options));\n    var retStream = new AddHelper(s, p);\n    retStream.once('finish', function () {\n      return p.end();\n    });\n    return retStream;\n  };\n};","map":{"version":3,"sources":["C:/Users/gkhakurel/Downloads/Poject-main/Poject-main/client/node_modules/ipfs/src/core/components/files-regular/add-readable-stream.js"],"names":["pull","require","pushable","Duplex","AddHelper","pullStream","push","options","Object","assign","objectMode","_pullStream","_pushable","_waitingPullFlush","end","data","length","cb","shift","Error","emit","chunk","encoding","callback","module","exports","self","p","s","addPullStream","retStream","once"],"mappings":"AAAA;;;;;;;;;;AAEA,IAAMA,IAAI,GAAGC,OAAO,CAAC,aAAD,CAApB;;AACA,IAAMC,QAAQ,GAAGD,OAAO,CAAC,eAAD,CAAxB;;AACA,IAAME,MAAM,GAAGF,OAAO,CAAC,iBAAD,CAAP,CAA2BE,MAA1C;;IAEMC,S;;;;;AACJ,qBAAaC,UAAb,EAAyBC,IAAzB,EAA+BC,OAA/B,EAAwC;AAAA;;AAAA;;AACtC,8BAAMC,MAAM,CAACC,MAAP,CAAc;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAAd,EAAoCH,OAApC,CAAN;AACA,UAAKI,WAAL,GAAmBN,UAAnB;AACA,UAAKO,SAAL,GAAiBN,IAAjB;AACA,UAAKO,iBAAL,GAAyB,EAAzB;AAJsC;AAKvC;;;;WAED,iBAAS;AAAA;;AACP,WAAKF,WAAL,CAAiB,IAAjB,EAAuB,UAACG,GAAD,EAAMC,IAAN,EAAe;AACpC,eAAO,MAAI,CAACF,iBAAL,CAAuBG,MAA9B,EAAsC;AACpC,cAAMC,EAAE,GAAG,MAAI,CAACJ,iBAAL,CAAuBK,KAAvB,EAAX;;AACAD,UAAAA,EAAE;AACH;;AACD,YAAIH,GAAJ,EAAS;AACP,cAAIA,GAAG,YAAYK,KAAnB,EAA0B;AACxB,YAAA,MAAI,CAACC,IAAL,CAAU,OAAV,EAAmBN,GAAnB;AACD,WAFD,MAEO;AACL,YAAA,MAAI,CAACR,IAAL,CAAU,IAAV;AACD;AACF,SAND,MAMO;AACL,UAAA,MAAI,CAACA,IAAL,CAAUS,IAAV;AACD;AACF,OAdD;AAeD;;;WAED,gBAAQM,KAAR,EAAeC,QAAf,EAAyBC,QAAzB,EAAmC;AACjC,WAAKV,iBAAL,CAAuBP,IAAvB,CAA4BiB,QAA5B;;AACA,WAAKX,SAAL,CAAeN,IAAf,CAAoBe,KAApB;AACD;;;;EA7BqBlB,M;;AAgCxBqB,MAAM,CAACC,OAAP,GAAiB,UAAUC,IAAV,EAAgB;AAC/B,SAAO,UAACnB,OAAD,EAAa;AAClBA,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AAEA,QAAMoB,CAAC,GAAGzB,QAAQ,EAAlB;AACA,QAAM0B,CAAC,GAAG5B,IAAI,CACZ2B,CADY,EAEZD,IAAI,CAACG,aAAL,CAAmBtB,OAAnB,CAFY,CAAd;AAKA,QAAMuB,SAAS,GAAG,IAAI1B,SAAJ,CAAcwB,CAAd,EAAiBD,CAAjB,CAAlB;AAEAG,IAAAA,SAAS,CAACC,IAAV,CAAe,QAAf,EAAyB;AAAA,aAAMJ,CAAC,CAACb,GAAF,EAAN;AAAA,KAAzB;AAEA,WAAOgB,SAAP;AACD,GAdD;AAeD,CAhBD","sourcesContent":["'use strict'\n\nconst pull = require('pull-stream')\nconst pushable = require('pull-pushable')\nconst Duplex = require('readable-stream').Duplex\n\nclass AddHelper extends Duplex {\n  constructor (pullStream, push, options) {\n    super(Object.assign({ objectMode: true }, options))\n    this._pullStream = pullStream\n    this._pushable = push\n    this._waitingPullFlush = []\n  }\n\n  _read () {\n    this._pullStream(null, (end, data) => {\n      while (this._waitingPullFlush.length) {\n        const cb = this._waitingPullFlush.shift()\n        cb()\n      }\n      if (end) {\n        if (end instanceof Error) {\n          this.emit('error', end)\n        } else {\n          this.push(null)\n        }\n      } else {\n        this.push(data)\n      }\n    })\n  }\n\n  _write (chunk, encoding, callback) {\n    this._waitingPullFlush.push(callback)\n    this._pushable.push(chunk)\n  }\n}\n\nmodule.exports = function (self) {\n  return (options) => {\n    options = options || {}\n\n    const p = pushable()\n    const s = pull(\n      p,\n      self.addPullStream(options)\n    )\n\n    const retStream = new AddHelper(s, p)\n\n    retStream.once('finish', () => p.end())\n\n    return retStream\n  }\n}\n"]},"metadata":{},"sourceType":"script"}