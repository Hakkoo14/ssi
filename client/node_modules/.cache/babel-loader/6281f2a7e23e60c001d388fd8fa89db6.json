{"ast":null,"code":"'use strict';\n\nvar once = require('once');\n/**\n * Registers `handler` to each event in `events`. The `handler`\n * will only be called for the first event fired, at which point\n * the `handler` will be removed as a listener.\n *\n * Ensures `handler` is only called once.\n *\n * @example\n * // will call `callback` when `start` or `error` is emitted by `this`\n * emitFirst(this, ['error', 'start'], callback)\n *\n * @private\n * @param {EventEmitter} emitter The emitter to listen on\n * @param {Array<string>} events The events to listen for\n * @param {function(*)} handler The handler to call when an event is triggered\n * @returns {void}\n */\n\n\nfunction emitFirst(emitter, events, handler) {\n  handler = once(handler);\n  events.forEach(function (e) {\n    emitter.once(e, function () {\n      events.forEach(function (ev) {\n        emitter.removeListener(ev, handler);\n      });\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handler.apply(emitter, args);\n    });\n  });\n}\n\nmodule.exports.emitFirst = emitFirst;","map":{"version":3,"sources":["C:/Users/dd/Desktop/Project SSI/Major Project/client/node_modules/libp2p/src/util/index.js"],"names":["once","require","emitFirst","emitter","events","handler","forEach","e","ev","removeListener","args","apply","module","exports"],"mappings":"AAAA;;AACA,IAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASC,SAAT,CAAoBC,OAApB,EAA6BC,MAA7B,EAAqCC,OAArC,EAA8C;AAC5CA,EAAAA,OAAO,GAAGL,IAAI,CAACK,OAAD,CAAd;AACAD,EAAAA,MAAM,CAACE,OAAP,CAAe,UAACC,CAAD,EAAO;AACpBJ,IAAAA,OAAO,CAACH,IAAR,CAAaO,CAAb,EAAgB,YAAa;AAC3BH,MAAAA,MAAM,CAACE,OAAP,CAAe,UAACE,EAAD,EAAQ;AACrBL,QAAAA,OAAO,CAACM,cAAR,CAAuBD,EAAvB,EAA2BH,OAA3B;AACD,OAFD;;AAD2B,wCAATK,IAAS;AAATA,QAAAA,IAAS;AAAA;;AAI3BL,MAAAA,OAAO,CAACM,KAAR,CAAcR,OAAd,EAAuBO,IAAvB;AACD,KALD;AAMD,GAPD;AAQD;;AAEDE,MAAM,CAACC,OAAP,CAAeX,SAAf,GAA2BA,SAA3B","sourcesContent":["'use strict'\nconst once = require('once')\n\n/**\n * Registers `handler` to each event in `events`. The `handler`\n * will only be called for the first event fired, at which point\n * the `handler` will be removed as a listener.\n *\n * Ensures `handler` is only called once.\n *\n * @example\n * // will call `callback` when `start` or `error` is emitted by `this`\n * emitFirst(this, ['error', 'start'], callback)\n *\n * @private\n * @param {EventEmitter} emitter The emitter to listen on\n * @param {Array<string>} events The events to listen for\n * @param {function(*)} handler The handler to call when an event is triggered\n * @returns {void}\n */\nfunction emitFirst (emitter, events, handler) {\n  handler = once(handler)\n  events.forEach((e) => {\n    emitter.once(e, (...args) => {\n      events.forEach((ev) => {\n        emitter.removeListener(ev, handler)\n      })\n      handler.apply(emitter, args)\n    })\n  })\n}\n\nmodule.exports.emitFirst = emitFirst\n"]},"metadata":{},"sourceType":"script"}