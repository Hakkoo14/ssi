{"ast":null,"code":"'use strict';\n\nvar abortable = require('pull-abortable');\n\nvar pull = require('pull-stream');\n\nvar debug = require('debug');\n\nvar MULTIPLEX_CODEC = require('./codec');\n\nvar Mplex = require('./mplex');\n\nvar Muxer = require('./muxer');\n\nvar log = debug('pull-plex');\nlog.err = debug('pull-plex:err');\n/**\n * Wraps `conn` with a `StreamMuxer` and returns the `StreamMuxer`\n * @param {Connection} conn An `interface-connection` compliant connection\n * @param {boolean} isListener Whether or not the muxer is the listener\n * @returns {StreamMuxer}\n */\n\nfunction create(conn, isListener) {\n  var mpx = new Mplex(!isListener);\n  var aborter = abortable();\n  pull(conn, mpx, aborter, conn);\n  var muxer = new Muxer(conn, mpx);\n  muxer.once('error', function (err) {\n    log.err('got error', err);\n    aborter.abort(err); // TODO: should we do the abort here or just ignore?\n  });\n  muxer.on('close', function () {\n    log('closing muxer');\n    aborter.abort();\n  });\n  return muxer;\n}\n\nexports = module.exports = create;\nexports.pullMplex = Mplex;\nexports.multicodec = MULTIPLEX_CODEC;\n\nexports.dialer = function (conn) {\n  return create(conn, false);\n};\n\nexports.listener = function (conn) {\n  return create(conn, true);\n};","map":{"version":3,"sources":["C:/Users/gkhakurel/Downloads/Poject-main/Poject-main/client/node_modules/pull-mplex/src/index.js"],"names":["abortable","require","pull","debug","MULTIPLEX_CODEC","Mplex","Muxer","log","err","create","conn","isListener","mpx","aborter","muxer","once","abort","on","exports","module","pullMplex","multicodec","dialer","listener"],"mappings":"AAAA;;AAEA,IAAMA,SAAS,GAAGC,OAAO,CAAC,gBAAD,CAAzB;;AACA,IAAMC,IAAI,GAAGD,OAAO,CAAC,aAAD,CAApB;;AACA,IAAME,KAAK,GAAGF,OAAO,CAAC,OAAD,CAArB;;AAEA,IAAMG,eAAe,GAAGH,OAAO,CAAC,SAAD,CAA/B;;AACA,IAAMI,KAAK,GAAGJ,OAAO,CAAC,SAAD,CAArB;;AACA,IAAMK,KAAK,GAAGL,OAAO,CAAC,SAAD,CAArB;;AAEA,IAAMM,GAAG,GAAGJ,KAAK,CAAC,WAAD,CAAjB;AACAI,GAAG,CAACC,GAAJ,GAAUL,KAAK,CAAC,eAAD,CAAf;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASM,MAAT,CAAiBC,IAAjB,EAAuBC,UAAvB,EAAmC;AACjC,MAAMC,GAAG,GAAG,IAAIP,KAAJ,CAAU,CAACM,UAAX,CAAZ;AACA,MAAME,OAAO,GAAGb,SAAS,EAAzB;AAEAE,EAAAA,IAAI,CACFQ,IADE,EAEFE,GAFE,EAGFC,OAHE,EAIFH,IAJE,CAAJ;AAOA,MAAMI,KAAK,GAAG,IAAIR,KAAJ,CAAUI,IAAV,EAAgBE,GAAhB,CAAd;AACAE,EAAAA,KAAK,CAACC,IAAN,CAAW,OAAX,EAAoB,UAACP,GAAD,EAAS;AAC3BD,IAAAA,GAAG,CAACC,GAAJ,CAAQ,WAAR,EAAqBA,GAArB;AACAK,IAAAA,OAAO,CAACG,KAAR,CAAcR,GAAd,EAF2B,CAER;AACpB,GAHD;AAKAM,EAAAA,KAAK,CAACG,EAAN,CAAS,OAAT,EAAkB,YAAM;AACtBV,IAAAA,GAAG,CAAC,eAAD,CAAH;AACAM,IAAAA,OAAO,CAACG,KAAR;AACD,GAHD;AAKA,SAAOF,KAAP;AACD;;AAEDI,OAAO,GAAGC,MAAM,CAACD,OAAP,GAAiBT,MAA3B;AACAS,OAAO,CAACE,SAAR,GAAoBf,KAApB;AACAa,OAAO,CAACG,UAAR,GAAqBjB,eAArB;;AACAc,OAAO,CAACI,MAAR,GAAiB,UAACZ,IAAD;AAAA,SAAUD,MAAM,CAACC,IAAD,EAAO,KAAP,CAAhB;AAAA,CAAjB;;AACAQ,OAAO,CAACK,QAAR,GAAmB,UAACb,IAAD;AAAA,SAAUD,MAAM,CAACC,IAAD,EAAO,IAAP,CAAhB;AAAA,CAAnB","sourcesContent":["'use strict'\n\nconst abortable = require('pull-abortable')\nconst pull = require('pull-stream')\nconst debug = require('debug')\n\nconst MULTIPLEX_CODEC = require('./codec')\nconst Mplex = require('./mplex')\nconst Muxer = require('./muxer')\n\nconst log = debug('pull-plex')\nlog.err = debug('pull-plex:err')\n\n/**\n * Wraps `conn` with a `StreamMuxer` and returns the `StreamMuxer`\n * @param {Connection} conn An `interface-connection` compliant connection\n * @param {boolean} isListener Whether or not the muxer is the listener\n * @returns {StreamMuxer}\n */\nfunction create (conn, isListener) {\n  const mpx = new Mplex(!isListener)\n  const aborter = abortable()\n\n  pull(\n    conn,\n    mpx,\n    aborter,\n    conn\n  )\n\n  const muxer = new Muxer(conn, mpx)\n  muxer.once('error', (err) => {\n    log.err('got error', err)\n    aborter.abort(err) // TODO: should we do the abort here or just ignore?\n  })\n\n  muxer.on('close', () => {\n    log('closing muxer')\n    aborter.abort()\n  })\n\n  return muxer\n}\n\nexports = module.exports = create\nexports.pullMplex = Mplex\nexports.multicodec = MULTIPLEX_CODEC\nexports.dialer = (conn) => create(conn, false)\nexports.listener = (conn) => create(conn, true)\n"]},"metadata":{},"sourceType":"script"}